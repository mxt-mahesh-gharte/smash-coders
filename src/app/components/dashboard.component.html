<div class="dashboard-container" [style.--client-color]="currentClient()?.primaryColor || '#3b82f6'">
    <!-- Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <div class="brand-section">
                @if (currentClient()?.logo) {
                <img [src]="currentClient()!.logo" [alt]="currentClient()!.name + ' logo'" class="client-logo">
                }
                <div class="brand-info">
                    <h1>{{ currentClient()?.name || 'Maxxton' }}</h1>
                    <p>Client Dashboard</p>
                </div>
            </div>

            <div class="user-section">
                <div class="user-info">
                    <img [src]="currentUser()?.avatar" [alt]="currentUser()?.fullName" class="user-avatar">
                    <div class="user-details">
                        <span class="user-name">{{ currentUser()?.fullName }}</span>
                        <span class="user-role">{{ currentClient()?.name || 'Valued Client' }}</span>
                    </div>
                </div>
                <button class="logout-btn" (click)="logout()">
                    <span>Sign Out</span>
                    <i>üö™</i>
                </button>
            </div>
        </div>
    </header>

    <!-- Welcome section -->
    <section class="welcome-section">
        <div class="welcome-content">
            <div class="welcome-text">
                <h2>{{ getGreeting() }}, {{ currentUser()?.fullName?.split(' ')?.[0] || 'User' }}! üëã</h2>
                @if (currentClient()?.welcomeMessage) {
                <p class="welcome-message">{{ currentClient()!.welcomeMessage }}</p>
                } @else {
                <p class="welcome-message">Welcome to your personalized dashboard</p>
                }
            </div>
            <div class="last-login">
                <small>Last login: {{ currentUser()?.lastLogin | date:'medium' }}</small>
            </div>
        </div>
    </section>

    <!-- Stats section -->
    <section class="stats-section">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üìÖ</div>
                <div class="stat-info">
                    <span class="stat-number">{{ stats()?.totalBookings }}</span>
                    <span class="stat-label">Total Bookings</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üè®</div>
                <div class="stat-info">
                    <span class="stat-number">{{ stats()?.upcomingStays }}</span>
                    <span class="stat-label">Upcoming Stays</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-info">
                    <span class="stat-number">{{ stats()?.rewardPoints }}</span>
                    <span class="stat-label">Reward Points</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üë§</div>
                <div class="stat-info">
                    <span class="stat-number">{{ stats()?.memberSince }}</span>
                    <span class="stat-label">Member Since</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Main content -->
    <div class="main-content">
        <!-- Upcoming bookings -->
        <section class="content-section">
            <div class="section-header">
                <h3>Upcoming Bookings</h3>
                <button class="action-btn">View All</button>
            </div>

            <div class="bookings-list">
                @for (booking of upcomingBookings; track booking.id) {
                <div class="booking-card">
                    <div class="booking-info">
                        <h4>{{ booking.property }}</h4>
                        <p class="booking-dates">{{ booking.dates }}</p>
                        <p class="booking-guests">{{ booking.guests }} guests</p>
                    </div>
                    <div class="booking-status">
                        <span class="status-badge" [class]="booking.status">
                            {{ booking.status | titlecase }}
                        </span>
                    </div>
                </div>
                } @empty {
                <div class="empty-state">
                    <p>No upcoming bookings</p>
                    <button class="action-btn primary">Book Now</button>
                </div>
                }
            </div>
        </section>

        <!-- Recent activity -->
        <section class="content-section">
            <div class="section-header">
                <h3>Recent Activity</h3>
                <button class="action-btn">View All</button>
            </div>

            <div class="activity-list">
                @for (activity of recentActivity; track $index) {
                <div class="activity-item">
                    <div class="activity-icon">üìã</div>
                    <div class="activity-info">
                        <p class="activity-action">{{ activity.action }}</p>
                        @if (activity.property) {
                        <p class="activity-detail">{{ activity.property }}</p>
                        }
                        @if (activity.amount) {
                        <p class="activity-detail">{{ activity.amount }}</p>
                        }
                    </div>
                    <div class="activity-time">
                        <span>{{ activity.time }}</span>
                    </div>
                </div>
                } @empty {
                <div class="empty-state">
                    <p>No recent activity</p>
                </div>
                }
            </div>
        </section>
    </div>

    <!-- Quick actions -->
    <section class="quick-actions">
        <h3>Quick Actions</h3>
        <div class="actions-grid">
            <button class="quick-action-btn">
                <span class="action-icon">üîç</span>
                <span>Search Properties</span>
            </button>
            <button class="quick-action-btn">
                <span class="action-icon">üìÖ</span>
                <span>Manage Bookings</span>
            </button>
            <button class="quick-action-btn">
                <span class="action-icon">üí≥</span>
                <span>Payment Methods</span>
            </button>
            <button class="quick-action-btn">
                <span class="action-icon">‚öôÔ∏è</span>
                <span>Account Settings</span>
            </button>
        </div>
    </section>
</div>
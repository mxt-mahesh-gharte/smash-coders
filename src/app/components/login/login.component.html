<div class="login-container">
  <!-- Background with animated gradient -->
  <div class="background-overlay"></div>

  <!-- Main content -->
  <div class="login-content">
    <!-- Logo section -->
    <div class="logo-section">
      <div class="maxxton-logo">
        <h1>Maxxton</h1>
        <p>Your Gateway to Excellence</p>
      </div>
    </div>

    <!-- Login card -->
    <div class="login-card" [class.employee-mode]="showEmployeeLogin()">
      <!-- Client Login (Primary) -->
      <div class="client-login" [class.hidden]="showEmployeeLogin()">
        <div class="card-header">
          <h2>Welcome Back!</h2>
          <p>Sign in to access your personalized dashboard</p>
        </div>

        <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" class="login-form">
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" [value]="email()" (input)="onEmailChange($event)"
              placeholder="Enter your email" required autocomplete="email" [disabled]="isLoading()">
          </div>

          <!-- Client Login Password Field -->
          <div class="form-group">
            <label for="password">Password</label>
            <div class="password-wrapper">
              <input [type]="showPassword() ? 'text' : 'password'" id="password" name="password" [value]="password()" (input)="onPasswordChange($event)"
                placeholder="Enter your password" required autocomplete="current-password" [disabled]="isLoading()">
              <button type="button" class="show-password-btn" (click)="toggleShowPassword()" tabindex="-1" aria-label="Show password">
                <span *ngIf="!showPassword()">
                  <!-- Eye icon SVG -->
                  <svg width="22" height="22" fill="none" stroke="#6e8efb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                    <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                </span>
                <span *ngIf="showPassword()">
                  <!-- Eye-off icon SVG -->
                  <svg width="22" height="22" fill="none" stroke="#a777e3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                    <path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.77 21.77 0 0 1 5.06-7.06"/>
                    <path d="M1 1l22 22"/>
                    <path d="M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"/>
                  </svg>
                </span>
              </button>
            </div>
          </div>

          @if (errorMessage()) {
          <div class="error-message">
            <i class="error-icon">‚ö†Ô∏è</i>
            {{ errorMessage() }}
          </div>
          }

          @if (showSignupSuggestion()) {
          <div class="signup-suggestion">
            <i class="info-icon">üí°</i>
            <span>Don't have an account? <a routerLink="/signup" class="signup-link-inline">Create one now</a></span>
          </div>
          }

          <button type="submit" class="login-btn primary" [disabled]="!isFormValid() || isLoading()">
            @if (isLoading()) {
            <span class="loading-spinner"></span>
            Signing In...
            } @else {
            Sign In
            }
          </button>

          <div class="form-footer">
            <a routerLink="/signup" class="signup-link">
              Don't have an account? <strong>Sign Up</strong>
            </a>
          </div>
        </form>
      </div>

      <!-- Employee Login (Secondary) -->
      <div class="employee-login" [class.visible]="showEmployeeLogin()">
        <div class="card-header">
          <h2>Employee Access</h2>
          <p>Maxxton staff login portal</p>
        </div>

        <form #empLoginForm="ngForm" (ngSubmit)="onSubmit(empLoginForm)" class="login-form">
          <div class="form-group">
            <label for="emp-email">Email Address</label>
            <input type="email" id="emp-email" name="email" [value]="email()" (input)="onEmailChange($event)"
              placeholder="your.name@maxxton.com" required autocomplete="email" [disabled]="isLoading()">
          </div>

          <!-- Employee Login Password Field -->
          <div class="form-group">
            <label for="emp-password">Password</label>
            <div class="password-wrapper">
              <input [type]="showEmpPassword() ? 'text' : 'password'" id="emp-password" name="password" [value]="password()"
                (input)="onPasswordChange($event)" placeholder="Enter your password" required
                autocomplete="current-password" [disabled]="isLoading()">
              <button type="button" class="show-password-btn" (click)="toggleShowEmpPassword()" tabindex="-1" aria-label="Show employee password">
                <span *ngIf="!showEmpPassword()">
                  <!-- Eye icon SVG -->
                  <svg width="22" height="22" fill="none" stroke="#6e8efb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                    <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                </span>
                <span *ngIf="showEmpPassword()">
                  <!-- Eye-off icon SVG -->
                  <svg width="22" height="22" fill="none" stroke="#a777e3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                    <path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.77 21.77 0 0 1 5.06-7.06"/>
                    <path d="M1 1l22 22"/>
                    <path d="M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"/>
                  </svg>
                </span>
              </button>
            </div>
          </div>

          @if (errorMessage()) {
          <div class="error-message">
            <i class="error-icon">‚ö†Ô∏è</i>
            {{ errorMessage() }}
          </div>
          }

          <button type="submit" class="login-btn secondary" [disabled]="!isFormValid() || isLoading()">
            @if (isLoading()) {
            <span class="loading-spinner"></span>
            Signing In...
            } @else {
            Employee Sign In
            }
          </button>
        </form>
      </div>

      <!-- Toggle button for employee login -->
      <div class="toggle-section">
        @if (!showEmployeeLogin()) {
        <button type="button" class="toggle-btn" (click)="toggleEmployeeLogin()" [disabled]="isLoading()">
          Maxxton Employee? <span>Click here</span>
        </button>
        } @else {
        <button type="button" class="toggle-btn back" (click)="toggleEmployeeLogin()" [disabled]="isLoading()">
          ‚Üê Back to Client Login
        </button>
        }
      </div>
    </div>
  </div>
</div>